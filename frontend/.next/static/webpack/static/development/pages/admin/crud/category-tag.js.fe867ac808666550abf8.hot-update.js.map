{"version":3,"file":"static/webpack/static/development/pages/admin/crud/category-tag.js.fe867ac808666550abf8.hot-update.js","sources":["webpack:///./components/crud/Category.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport Router from \"next/router\";\nimport { isAuth, getCookie } from \"../../actions/auth\";\nimport { create, getCategories, removeCategory, singleCategory } from \"../../actions/category\";\n\nconst Category = () => {\n    const [values, setValues] = useState({\n        name: \"\",\n        error: false,\n        success: false,\n        categories: [],\n        removed: false\n    });\n\n    const { name, error, success, categories, removed } = values;\n    const token = getCookie(\"token\");\n\n    useEffect(() => {\n        loadCategories();\n    });\n    const loadCategories = () => {\n        getCategories().then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                setValues({ ...values, categories: data });\n            }\n        });\n    };\n\n    const showCategories = () => {\n        return categories.map((el, index) => {\n            return (\n                <button key={index} className=\"btn btn-outline-primary mr-1 ml-1 mt-3 \">\n                    {el.name}\n                </button>\n            );\n        });\n    };\n\n    const clickSubmit = e => {\n        e.preventDefault();\n        create({ name }, token).then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error, success: false });\n            } else {\n                console.log(data);\n                setValues({ ...values, error: false, success: true, name: \"\" });\n            }\n        });\n        console.log(\"create category :\", name);\n    };\n\n    const handleChange = e => {\n        setValues({\n            ...values,\n            name: e.target.value,\n            error: false,\n            success: false,\n            removed: \"\"\n        });\n    };\n\n    const newCategoryForm = () => (\n        <form onSubmit={clickSubmit}>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input type=\"text\" className=\"form-control\" onChange={handleChange} value={name} required />\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary\">\n                Create\n            </button>\n        </form>\n    );\n\n    return (\n        <React.Fragment>\n            {newCategoryForm()}\n            <div>{showCategories()}</div>\n        </React.Fragment>\n    );\n};\n\nexport default Category;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAUA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AANA;AACA;AAWA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}