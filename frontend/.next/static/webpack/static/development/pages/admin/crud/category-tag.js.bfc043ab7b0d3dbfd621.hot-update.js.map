{"version":3,"file":"static/webpack/static/development/pages/admin/crud/category-tag.js.bfc043ab7b0d3dbfd621.hot-update.js","sources":["webpack:///./actions/category.js","webpack:///./components/crud/Category.js"],"sourcesContent":["import fetch from \"isomorphic-fetch\";\nimport { API } from \"../config\";\n\nexport const create = (category, token) => {\n    return fetch(`${API}/category`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(category)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\nexport const getCategories = () => {\n    return fetch(`${API}/categories`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\nexport const singleCategory = slug => {\n    return fetch(`${API}/category/${slug}`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\nexport const remove = (slug, token) => {\n    return fetch(`${API}/category/${slug}`, {\n        method: \"DELETE\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n","import { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport Router from \"next/router\";\nimport { isAuth, getCookie } from \"../../actions/auth\";\nimport { create, getCategories, remove, singleCategory } from \"../../actions/category\";\n\nconst Category = () => {\n    const [values, setValues] = useState({\n        name: \"\",\n        error: false,\n        success: false,\n        categories: [],\n        removed: false\n    });\n\n    const { name, error, success, categories, removed } = values;\n    const token = getCookie(\"token\");\n\n    const clickSubmit = e => {\n        e.preventDefault();\n        create({ name }, token).then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error, success: false });\n            } else {\n                console.log(data);\n                setValues({ ...values, error: false, success: true, name: \"\" });\n            }\n        });\n        console.log(\"create category :\", name);\n    };\n\n    const categorieslistData = () => {\n        getCategories().then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                console.log(data);\n                categoryListTable(data);\n            }\n        });\n    };\n    const categoryListTable = data => {\n        let datalist = [...data];\n\n        let viewdatalist = datalist.map(el => {\n            return <div>{el.name}</div>;\n        });\n\n        return <React.Fragment>{viewdatalist}</React.Fragment>;\n    };\n\n    const handleChange = e => {\n        setValues({\n            ...values,\n            name: e.target.value,\n            error: false,\n            success: false,\n            removed: \"\"\n        });\n    };\n\n    const newCategoryForm = () => (\n        <form onSubmit={clickSubmit}>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input type=\"text\" className=\"form-control\" onChange={handleChange} value={name} required />\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary\">\n                Create\n            </button>\n        </form>\n    );\n\n    return (\n        <React.Fragment>\n            {newCategoryForm()}\n            {categorieslistData()}\n        </React.Fragment>\n    );\n};\n\nexport default Category;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AAPA;AAUA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AADA;AAIA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AADA;AAIA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AASA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AANA;AACA;AAWA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;;;;A","sourceRoot":""}